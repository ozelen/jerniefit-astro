---
import BaseHead from '../../components/BaseHead.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import { getCollection } from 'astro:content';
import { SITE_TITLE } from '../../consts';

export const prerender = true;

export async function getStaticPaths() {
  const services = await getCollection('services');
  return services
    .filter(service => service.data.slug && !service.data.isPromo)
    .map((service) => ({
      params: { slug: service.data.slug },
      props: { service },
    }));
}

const { service } = Astro.props;
---

<!DOCTYPE html>
<html lang="es">
	<head>
		<BaseHead title={`${service.data.title} - ${SITE_TITLE}`} description={service.data.description} />
		<style>
			body {
				margin: 0;
				padding: 0;
				font-family: 'Arial', 'Helvetica', sans-serif;
				background: #000000;
				color: #ffffff;
			}
			
			.service-container {
				padding-top: 100px;
				min-height: 100vh;
				background: #000000;
			}
			
			.service-header {
				text-align: center;
				padding: 60px 20px 40px;
				background: linear-gradient(135deg, rgba(255, 20, 147, 0.2), rgba(0, 0, 0, 0.8));
				border-bottom: 2px solid #ff1493;
			}
			
			.service-header h1 {
				font-size: 3rem;
				font-weight: 900;
				text-transform: uppercase;
				letter-spacing: 2px;
				color: #ff1493;
				margin-bottom: 1rem;
			}
			
			.service-header .price {
				font-size: 2rem;
				font-weight: bold;
				color: #ff1493;
				margin: 1rem 0;
			}
			
			.service-header p {
				font-size: 1.2rem;
				color: #cccccc;
				max-width: 600px;
				margin: 0 auto;
				line-height: 1.6;
			}
			
			.service-content {
				max-width: 800px;
				margin: 0 auto;
				padding: 40px 20px;
			}
			
			.features-section {
				margin: 40px 0;
			}
			
			.features-section h3 {
				color: #ff1493;
				font-size: 1.5rem;
				margin-bottom: 1rem;
			}
			
			.features-list {
				list-style: none;
				padding: 0;
			}
			
			.features-list li {
				background: rgba(255, 20, 147, 0.1);
				margin: 10px 0;
				padding: 15px 20px;
				border-left: 4px solid #ff1493;
				border-radius: 5px;
			}
			
			.cta-section {
				text-align: center;
				margin: 40px 0;
				padding: 30px;
				background: rgba(255, 20, 147, 0.1);
				border-radius: 10px;
			}
			
			.cta-button {
				display: inline-block;
				background: linear-gradient(135deg, #ff1493, #ff69b4, #ff1493);
				color: white;
				padding: 18px 35px;
				text-decoration: none;
				border-radius: 50px;
				font-weight: bold;
				font-size: 1.1rem;
				transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
				position: relative;
				overflow: hidden;
				box-shadow: 0 6px 20px rgba(255, 20, 147, 0.3);
				text-transform: uppercase;
				letter-spacing: 1px;
			}
			
			.cta-button::before {
				content: '';
				position: absolute;
				top: 0;
				left: -100%;
				width: 100%;
				height: 100%;
				background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
				transition: left 0.5s;
			}
			
			.cta-button:hover::before {
				left: 100%;
			}
			
			.cta-button:hover {
				transform: translateY(-3px) scale(1.05);
				box-shadow: 0 8px 25px rgba(255, 20, 147, 0.5);
				background: linear-gradient(135deg, #e0115f, #ff1493, #e0115f);
			}
			
			.back-link {
				display: inline-block;
				color: #ff1493;
				text-decoration: none;
				margin-bottom: 20px;
				font-weight: bold;
			}
			
			.back-link:hover {
				text-decoration: underline;
			}
			
			/* Tablet and small desktop */
			@media (max-width: 1024px) {
				.service-header h1 {
					font-size: 2.5rem;
				}
				
				.service-content {
					padding: 30px 20px;
				}
			}
			
			/* Mobile landscape and small tablets */
			@media (max-width: 768px) {
				.service-container {
					padding-top: 80px;
				}
				
				.service-header {
					padding: 40px 15px 30px;
				}
				
				.service-header h1 {
					font-size: 1.8rem;
					margin-bottom: 0.8rem;
					line-height: 1.2;
				}
				
				.service-header .price {
					font-size: 1.3rem;
					margin: 0.8rem 0;
				}
				
				.service-header p {
					font-size: 0.95rem;
					line-height: 1.5;
				}
				
				.service-content {
					padding: 30px 15px;
				}
				
				.features-section h3 {
					font-size: 1.3rem;
					margin-bottom: 0.8rem;
				}
				
				.features-list li {
					padding: 12px 15px;
					font-size: 0.9rem;
				}
				
				.cta-section {
					padding: 25px 20px;
					margin: 30px 0;
				}
				
				.cta-button {
					padding: 16px 30px;
					font-size: 1rem;
				}
			}
			
			/* Mobile portrait */
			@media (max-width: 480px) {
				.service-container {
					padding-top: 70px;
				}
				
				.service-header {
					padding: 30px 10px 25px;
				}
				
				.service-header h1 {
					font-size: 1.5rem;
					margin-bottom: 0.6rem;
					letter-spacing: 1px;
				}
				
				.service-header .price {
					font-size: 1.1rem;
					margin: 0.6rem 0;
				}
				
				.service-header p {
					font-size: 0.85rem;
					line-height: 1.4;
				}
				
				.service-content {
					padding: 25px 10px;
				}
				
				.features-section h3 {
					font-size: 1.1rem;
					margin-bottom: 0.6rem;
				}
				
				.features-list li {
					padding: 10px 12px;
					font-size: 0.85rem;
					margin: 8px 0;
				}
				
				.cta-section {
					padding: 20px 15px;
					margin: 25px 0;
				}
				
				.cta-button {
					padding: 14px 25px;
					font-size: 0.9rem;
				}
				
				.back-link {
					font-size: 0.9rem;
					margin-bottom: 15px;
				}
			}
			
			/* Very small screens */
			@media (max-width: 360px) {
				.service-header h1 {
					font-size: 1.3rem;
				}
				
				.service-header .price {
					font-size: 1rem;
				}
				
				.service-header p {
					font-size: 0.8rem;
				}
				
				.features-list li {
					padding: 8px 10px;
					font-size: 0.8rem;
				}
				
				.cta-button {
					padding: 12px 20px;
					font-size: 0.85rem;
				}
			}
		</style>
	</head>
	<body>
		<!-- Google Tag Manager (noscript) -->
		<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M54PBN6K"
		height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
		<!-- End Google Tag Manager (noscript) -->
		
		<Header />
		
        <main class="service-container">
          <section class="service-header">
            <a href="/#servicios" class="back-link">← Volver a servicios</a>
            <h1>{service.data.title}</h1>
            {service.data.price && <div class="price">{service.data.price}</div>}
            <p>{service.data.description}</p>
          </section>

          <div class="service-content">
            {service.data.features && service.data.features.length > 0 && (
              <div class="features-section">
                <h3>✨ Características incluidas</h3>
                <ul class="features-list">
                  {service.data.features.map((feature) => (
                    <li>{feature}</li>
                  ))}
                </ul>
              </div>
            )}
            
            <div class="prose">
              <p>Descubre más detalles sobre este servicio y cómo puede ayudarte a alcanzar tus objetivos de fitness.</p>
            </div>
            
            {service.data.ctaText && service.data.ctaLink && (
              <div class="cta-section">
                <a href={service.data.ctaLink} class="cta-button">
                  {service.data.ctaText}
                </a>
              </div>
            )}
            
            {!service.data.ctaText && (
              <div class="cta-section">
                <a href="/#contact" class="cta-button">
                  Contactar para más información
                </a>
              </div>
            )}
          </div>
        </main>
		
		<Footer />
	</body>
</html>
