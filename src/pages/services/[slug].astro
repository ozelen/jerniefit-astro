---
import BaseHead from '../../components/BaseHead.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import { getCollection } from 'astro:content';
import { SITE_TITLE } from '../../consts';

export const prerender = true;

export async function getStaticPaths() {
  const services = await getCollection('services');
  return services
    .filter(service => service.data.slug && !service.data.isPromo)
    .map((service) => ({
      params: { slug: service.data.slug },
      props: { service },
    }));
}

const { service } = Astro.props;
---

<!DOCTYPE html>
<html lang="es">
	<head>
		<BaseHead title={`${service.data.title} - ${SITE_TITLE}`} description={service.data.description} />
		<style>
			body {
				margin: 0;
				padding: 0;
				font-family: 'Arial', 'Helvetica', sans-serif;
				background: #000000;
				color: #ffffff;
			}
			
			.service-container {
				padding-top: 100px;
				min-height: 100vh;
				background: #000000;
			}
			
			.service-header {
				text-align: center;
				padding: 60px 20px 40px;
				background: linear-gradient(135deg, rgba(255, 20, 147, 0.2), rgba(0, 0, 0, 0.8));
				border-bottom: 2px solid #ff1493;
			}
			
			.service-header h1 {
				font-size: 3rem;
				font-weight: 900;
				text-transform: uppercase;
				letter-spacing: 2px;
				color: #ff1493;
				margin-bottom: 1rem;
			}
			
			.service-header .price {
				font-size: 2rem;
				font-weight: bold;
				color: #ff1493;
				margin: 1rem 0;
			}
			
			.service-header p {
				font-size: 1.2rem;
				color: #cccccc;
				max-width: 600px;
				margin: 0 auto;
				line-height: 1.6;
			}
			
			.service-content {
				max-width: 800px;
				margin: 0 auto;
				padding: 40px 20px;
			}
			
			.features-section {
				margin: 40px 0;
			}
			
			.features-section h3 {
				color: #ff1493;
				font-size: 1.5rem;
				margin-bottom: 1rem;
			}
			
			.features-list {
				list-style: none;
				padding: 0;
			}
			
			.features-list li {
				background: rgba(255, 20, 147, 0.1);
				margin: 10px 0;
				padding: 15px 20px;
				border-left: 4px solid #ff1493;
				border-radius: 5px;
			}
			
			.cta-section {
				text-align: center;
				margin: 40px 0;
				padding: 30px;
				background: rgba(255, 20, 147, 0.1);
				border-radius: 10px;
			}
			
			.cta-button {
				display: inline-block;
				background: linear-gradient(45deg, #ff1493, #ff69b4);
				color: white;
				padding: 15px 30px;
				text-decoration: none;
				border-radius: 25px;
				font-weight: bold;
				font-size: 1.1rem;
				transition: transform 0.3s ease;
			}
			
			.cta-button:hover {
				transform: translateY(-2px);
				box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4);
			}
			
			.back-link {
				display: inline-block;
				color: #ff1493;
				text-decoration: none;
				margin-bottom: 20px;
				font-weight: bold;
			}
			
			.back-link:hover {
				text-decoration: underline;
			}
			
			@media (max-width: 768px) {
				.service-header h1 {
					font-size: 2rem;
				}
				
				.service-header p {
					font-size: 1rem;
				}
				
				.service-header .price {
					font-size: 1.5rem;
				}
			}
		</style>
	</head>
	<body>
		<Header />
		
        <main class="service-container">
          <section class="service-header">
            <a href="/#servicios" class="back-link">← Volver a servicios</a>
            <h1>{service.data.title}</h1>
            {service.data.price && <div class="price">{service.data.price}</div>}
            <p>{service.data.description}</p>
          </section>

          <div class="service-content">
            {service.data.features && service.data.features.length > 0 && (
              <div class="features-section">
                <h3>✨ Características incluidas</h3>
                <ul class="features-list">
                  {service.data.features.map((feature) => (
                    <li>{feature}</li>
                  ))}
                </ul>
              </div>
            )}
            
            <div class="prose">
              <p>Descubre más detalles sobre este servicio y cómo puede ayudarte a alcanzar tus objetivos de fitness.</p>
            </div>
            
            {service.data.ctaText && service.data.ctaLink && (
              <div class="cta-section">
                <a href={service.data.ctaLink} class="cta-button">
                  {service.data.ctaText}
                </a>
              </div>
            )}
            
            {!service.data.ctaText && (
              <div class="cta-section">
                <a href="/#contact" class="cta-button">
                  Contactar para más información
                </a>
              </div>
            )}
          </div>
        </main>
		
		<Footer />
	</body>
</html>
